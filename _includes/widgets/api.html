{%- assign api = nil -%}
{% if include.include %}
{%- assign include_file = include.include -%}
{%- assign extension = include_file | split: "." -%}
{%- if extension.size == 1 -%}{%- assign include_file = include_file | append: '.html' -%}{%- endif -%}
{%- capture include_content -%}{% include {{include_file}} %}{%- endcapture -%}
{% else %}
{%- assign include_file = 'widgets/api.html' -%}
{%- capture api -%}Capture, markdownify and render the liquid `api` variabile of an include file.

```liquid
{% raw %}{% include widgets/api.html include='folder/file' %}{% endraw %}
```

**Options**

- `include`: target include file with format `folder/file`.  
  Extension `.html` can be omitted.
- `details`: embed text in a `<details>`{:.language-html} element

**Format**
```liquid
...code...

{% raw %}{%- capture api -%}
Description

- Options
- Code Example
- Live example
{%- endcapture -%}{% endraw %}
```
{%- endcapture -%}
{% endif %}{% if api != nil %}{% if include.details %}
<details class="api" markdown=1><summary>{{ include_file | split: "/" | last | split: "." | first | capitalize }}</summary>{% else %}<h3>{{ include_file | split: "/" | last | split: "." | first | capitalize }}</h3>{% endif %}
{{ api | mardowify }}

File: {% assign absolute_path = include_file | prepend: '_includes/' %}{% include widgets/links/github_link.html path=absolute_path %}
{% if include.details %}</details>{% endif %}{% endif %}